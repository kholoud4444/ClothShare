<div class="p-4" dir="rtl">
  <h1>منتجاتنا</h1>

  <!-- Products Display -->
  <div class="row row-cols-1 row-cols-md-3 g-4">
    <div *ngFor="let itemPhoto of itemsWithPhotos" class="col-3">
      <div class="card h-100">
        <!-- Optimized Product Image using ngSrc -->
        <img
          [ngSrc]="itemPhoto.photoUrl"
          alt="Item Image"
          class="card-img-top"
          width="100%"
          height="auto"
          loading="lazy"
        />

        <!-- Product Details -->
        <div class="card-body text-end">
          <h5 class="card-title">{{ itemPhoto.item.type }}</h5>
          <p class="card-text">{{ itemPhoto.item.description }}</p>
          <div>
            <p><strong>التصنيف: </strong>{{ itemPhoto.item.type }}</p>
            <p><strong>الحجم: </strong>{{ itemPhoto.item.size }}</p>
            <p><strong>الحالة: </strong>{{ itemPhoto.item.state }}</p>
            <p><strong>النوع: </strong>{{ itemPhoto.item.genderSuitability }}</p>
            <p><strong>حالة الطلب: </strong>{{ itemPhoto.item.status }}</p>
          </div>
        </div>

        <!-- Card Footer with Button -->
        <div class="card-footer text-end">
          <button class="btn btn-primary" [routerLink]="['/item', itemPhoto.item.volunteerId]">
            <i class="pi pi-shopping-cart"></i> عرض المنتج
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Pagination -->
  <div class="d-flex justify-content-center mt-4">
    <button class="btn btn-outline-primary me-2" (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 0">
      السابق
    </button>
    <span>الصفحة {{ currentPage + 1 }}</span>
    <button class="btn btn-outline-primary ms-2" (click)="goToPage(currentPage + 1)">
      التالي
    </button>
  </div>
</div>
