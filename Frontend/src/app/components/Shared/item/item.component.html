<div *ngIf="loading" class="text-center">
  <p>Loading item details...</p>
</div>

<div *ngIf="!loading && item" class="container">
  <h3 class="text-end">تفاصيل المنتج</h3>
  <div class="card">
    <img *ngIf="item.imageUrl" [src]="item.imageUrl" alt="Item Image" class="card-img-top" />
    <div class="card-body">
      <h5 class="card-title text-end">{{ item.type }}</h5>
      <p class="card-text text-end">{{ item.description }}</p>
      <ul class="list-group">
        <li class="list-group-item text-end"><b>التصنيف:</b> {{ item.type }}</li>
        <li class="list-group-item text-end"><b>الحجم:</b> {{ item.size }}</li>
        <li class="list-group-item text-end"><b>حالة الملبس:</b> {{ item.state }}</li>
        <li class="list-group-item text-end"><b>النوع:</b> {{ item.genderSuitability }}</li>
        <li class="list-group-item text-end"><b>حالة الطلب:</b> {{ item.status }}</li>

      </ul>
      <!-- Text field and button for needy users -->
      <div *ngIf="userRole === 'needy'" class="mt-3">
        <label for="reason" class="form-label text-end w-100"><b>:سبب الطلب</b></label>
        <textarea
          id="reason"
          [(ngModel)]="reason"
          rows="3"
          class="form-control text-end"
          placeholder="يرجى كتابة السبب هنا..."
        ></textarea>
<br>
        <button (click)="submitRequest()"
        *ngIf="userRole === 'needy'"
        class="btn btn-primary mt-3 w-100" >
        اطلب الان
      </button>
      </div>
    </div>
  </div>
</div>
